<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f4f4f4; }
        h1 { color: #333; }
        table { width: 100%; border-collapse: collapse; background: white; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #eaeaea; }
        tr:hover { background: #f1f1f1; }
        form { margin-top: 20px; background: white; padding: 15px; border-radius: 8px; }
        input { margin: 5px; padding: 6px; width: 300px; }
        button { background: #4CAF50; color: white; border: none; padding: 6px 10px; cursor: pointer; }
        button:hover { background: #45a049; }
        a { text-decoration: none; font-weight: bold; }
        a.delete { color: red; }
        a.edit { color: #0066cc; }
        .divider { margin: 30px 0; border-top: 1px solid #ccc; }
        .msg { padding: 10px; border-radius: 5px; margin-bottom: 10px; }
        .success { background: #d4edda; color: #155724; }
        .updated { background: #d1ecf1; color: #0c5460; }
        .deleted { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
<h1>–ö–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞–º–∏</h1>

<a href="/admin"><button type="button">‚¨Ö –ù–∞–∑–∞–¥ –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button></a>

<!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
<div th:if="${param.success}" class="msg success">‚úÖ –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ –¥–æ–¥–∞–Ω–æ!</div>
<div th:if="${param.updated}" class="msg updated">üîÑ –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–æ!</div>
<div th:if="${param.deleted}" class="msg deleted">‚ùå –ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–æ!</div>

<h2>–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤</h2>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>–ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó</th>
        <th>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –æ—Å–æ–±–∞</th>
        <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
        <th>Email</th>
        <th>–ê–¥—Ä–µ—Å–∞</th>
        <th>–î—ñ—ó</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="s : ${suppliers}">
        <td th:text="${s.supplier_id}"></td>
        <td th:text="${s.name_company}"></td>
        <td th:text="${s.full_name}"></td>
        <td th:text="${s.phone}"></td>
        <td th:text="${s.email}"></td>
        <td th:text="${s.address}"></td>
        <td>
            <a th:href="@{'/admin/suppliers/edit/' + ${s.supplier_id}}" class="edit">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a> |
            <a th:href="@{'/admin/suppliers/delete/' + ${s.supplier_id}}" class="delete"
               onclick="return confirm('–í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞?');">–í–∏–¥–∞–ª–∏—Ç–∏</a>
        </td>
    </tr>
    </tbody>
</table>

<div class="divider"></div>

<!-- –§–æ—Ä–º–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è / —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è -->
<div th:if="${editSupplier == null}">
    <h2>–î–æ–¥–∞—Ç–∏ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞</h2>
    <form th:action="@{/admin/suppliers/add}" th:object="${newSupplier}" method="post">
        <input type="text" th:field="*{name_company}" placeholder="–ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó" required><br>
        <input type="text" th:field="*{full_name}" placeholder="–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –æ—Å–æ–±–∞" required><br>
        <input type="text" th:field="*{phone}" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω"><br>
        <input type="email" th:field="*{email}" placeholder="Email" required><br>
        <input type="text" th:field="*{address}" placeholder="–ê–¥—Ä–µ—Å–∞" required><br>
        <button type="submit">–î–æ–¥–∞—Ç–∏</button>
    </form>
</div>

<div th:if="${editSupplier != null}">
    <h2>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞ (ID: <span th:text="${editSupplier.supplier_id}"></span>)</h2>
    <form th:action="@{'/admin/suppliers/update/' + ${editSupplier.supplier_id}}"
          th:object="${editSupplier}" method="post">
        <input type="text" th:field="*{name_company}" placeholder="–ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó" required><br>
        <input type="text" th:field="*{full_name}" placeholder="–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –æ—Å–æ–±–∞" required><br>
        <input type="text" th:field="*{phone}" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω"><br>
        <input type="email" th:field="*{email}" placeholder="Email" required><br>
        <input type="text" th:field="*{address}" placeholder="–ê–¥—Ä–µ—Å–∞" required><br>
        <button type="submit">–û–Ω–æ–≤–∏—Ç–∏</button>
    </form>
</div>

</body>
</html>