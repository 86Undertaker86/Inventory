<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f4f4f4; }
        h1 { color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #eaeaea; }
        tr:hover { background: #f1f1f1; }
        form { margin-top: 20px; background: white; padding: 15px; border-radius: 8px; }
        input, select { margin: 5px; padding: 6px; }
        button { background: #4CAF50; color: white; border: none; padding: 6px 10px; cursor: pointer; }
        button:hover { background: #45a049; }
        a.delete { color: red; text-decoration: none; font-weight: bold; }
        a.delete:hover { text-decoration: underline; }
        a.edit { color: #0066cc; text-decoration: none; font-weight: bold; }
        a.edit:hover { text-decoration: underline; }
        .divider { margin: 30px 0; border-top: 1px solid #ccc; }
    </style>
</head>
<body>
<h1>–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>

<!-- üîπ –ù–æ–≤–∞ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤ -->
<a href="/admin/suppliers">
    <button type="button" style="background:#3498db; color:white; border:none; padding:8px 12px;
    border-radius:6px; cursor:pointer; margin-bottom:15px;">
        üì¶ –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞–º–∏
    </button>
</a>

<!-- üîπ –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –ª–æ–∫–∞—Ü—ñ–π -->
<a href="/admin/locations">
    <button type="button"
            style="background:#8e44ad; color:white; border:none; padding:8px 12px;
                   border-radius:6px; cursor:pointer; margin-top:10px; margin-left:10px;">
        üóÇÔ∏è –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ—è–º–∏
    </button>
</a>

<h2>–°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</h2>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>–õ–æ–≥—ñ–Ω</th>
        <th>–†–æ–ª—å</th>
        <th>–Ü–º‚Äô—è</th>
        <th>Email</th>
        <th>–î—ñ—ó</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="user : ${users}">
        <td th:text="${user.user_id}"></td>
        <td th:text="${user.username}"></td>
        <td th:text="${user.roleUser}"></td>
        <td th:text="${user.full_name}"></td>
        <td th:text="${user.email}"></td>
        <td>
            <a th:href="@{'/admin/edit/' + ${user.user_id}}" class="edit">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a> |
            <a th:href="@{'/admin/delete/' + ${user.user_id}}" class="delete">–í–∏–¥–∞–ª–∏—Ç–∏</a>
        </td>
    </tr>
    </tbody>
</table>

<div class="divider"></div>

<h2>–î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h2>
<form th:action="@{/admin/add}" method="post" th:object="${newUser}">
    <input type="text" th:field="*{username}" placeholder="–õ–æ–≥—ñ–Ω" required />
    <input type="password" th:field="*{password}" placeholder="–ü–∞—Ä–æ–ª—å" required />
    <select th:field="*{roleUser}">
        <option value="ADMIN">ADMIN</option>
        <option value="MANAGER">MANAGER</option>
        <option value="WORKER">WORKER</option>
        <option value="SUPPLIER">SUPPLIER</option>
    </select>
    <input type="text" th:field="*{full_name}" placeholder="–ü–æ–≤–Ω–µ —ñ–º‚Äô—è" />
    <input type="email" th:field="*{email}" placeholder="Email" />
    <button type="submit">–î–æ–¥–∞—Ç–∏</button>
</form>

<!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è -->
<div th:if="${editUser != null}">
    <div class="divider"></div>
    <h2>
        –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (ID:
        <span th:text="${editUser.user_id}"></span>)
    </h2>

    <form th:action="@{'/admin/update/' + ${editUser.user_id}}"
          th:object="${editUser}" method="post">

        <input type="text" th:field="*{username}" placeholder="–õ–æ–≥—ñ–Ω" required />
        <input type="password" th:field="*{password}" placeholder="–ü–∞—Ä–æ–ª—å (–∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º, —â–æ–± –Ω–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏)" />
        <select th:field="*{roleUser}">
            <option value="ADMIN">ADMIN</option>
            <option value="MANAGER">MANAGER</option>
            <option value="WORKER">WORKER</option>
            <option value="SUPPLIER">SUPPLIER</option>
        </select>
        <input type="text" th:field="*{full_name}" placeholder="–ü–æ–≤–Ω–µ —ñ–º‚Äô—è" />
        <input type="email" th:field="*{email}" placeholder="Email" />
        <button type="submit">–û–Ω–æ–≤–∏—Ç–∏</button>
    </form>
</div>
</body>
</html>